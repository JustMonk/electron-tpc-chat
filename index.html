<!DOCTYPE html>
<html>

<head>
   <meta charset="UTF-8">
   <link rel="stylesheet" href="assets/styles/main.css">
   <link rel="stylesheet" href="assets/styles/tabs.css">
   <link rel="stylesheet" href="assets/font-awesome/css/all.css">
   <title>Electron TCP test</title>
</head>

<body>

   <div class="wrapper">
      <div class="tabs">
         <div class="tabs-nav">
            <a class="active" href="#tab1">Create server</a>
            <a href="#tab2">Connect to server</a>
         </div>
         <div class="tabs-content">
            <div id="tab1">
               <div class="server-form">
                  <script>
                     (function () {
                        let tab = document.getElementById('tab1').querySelector('.server-form');
                        let fs = require('fs');
                        fs.readFile('./markup/create-server-form.html', function (err, data) {
                           if (err) console.log(err);
                           tab.innerHTML = data.toString()
                           require('dns').lookup(require('os').hostname(), function (err, add, fam) {
                              document.getElementById('ip').value = add;
                           })
                        });
                     })()
                  </script>
               </div>
            </div>

            <div id="tab2">
               <div class="client-form">
                  <script>
                        (function () {
                           let tab = document.getElementById('tab2').querySelector('.client-form');
                           let fs = require('fs');
                           fs.readFile('./markup/client-connect-form.html', function (err, data) {
                              if (err) console.log(err);
                              tab.innerHTML = data.toString()
                           });
                        })() 
                  </script>
               </div>
            </div>
         </div>
      </div>
   </div>

   <script>
      //resources
      require('./assets/tabs/tabs')
      //handlers
      require('./render-handlers/server-start');
      require('./render-handlers/server-close');
      require('./render-handlers/client-connect');
      require('./render-handlers/server-logging');
      require('./render-handlers/send-message');
      require('./render-handlers/client-logging');
      require('./render-handlers/client-close');
   </script>

</body>

</html>